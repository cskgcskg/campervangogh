<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Photo Gallery</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Ensures the background is clean and removes default browser margins */
        body {
            font-family: 'Inter', sans-serif;
            background-color: ##F2F0E9;
            padding: 0; 
            margin: 0; 
        }
    </style>
</head>
<body class="antialiased">

    <!-- Full Width Photo Gallery Grid (Minimalist design) -->
    <section id="photo-gallery" class="p-1 sm:p-2">
        <!-- Grid enforces 2 columns (grid-cols-2) across all screen sizes for a dense vertical scroll. -->
        <div class="grid grid-cols-2 gap-1 sm:gap-2">
            <!-- Images will be injected here by JavaScript -->
        </div>
    </section>

    <!-- Full-Screen Gallery Modal (Lightbox) - Essential for navigation functionality -->
    <div id="gallery-modal" class="fixed inset-0 bg-black bg-opacity-95 z-50 hidden transition-opacity duration-300">
        <div class="h-full w-full flex items-center justify-center relative">
            
            <!-- Close Button -->
            <button id="close-modal" class="absolute top-4 right-4 text-white p-2 rounded-full hover:bg-white/10 transition duration-150">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>

            <!-- Previous Button -->
            <button id="prev-image" class="absolute left-4 p-3 bg-white/20 text-white rounded-full hover:bg-white/40 transition-all duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg>
            </button>

            <!-- Current Image Container -->
            <div class="max-w-6xl max-h-full p-10">
                <img id="current-gallery-image" src="" alt="Campervan Photo" class="max-h-[85vh] w-auto object-contain rounded-lg shadow-2xl">
            </div>

            <!-- Next Button -->
            <button id="next-image" class="absolute right-4 p-3 bg-white/20 text-white rounded-full hover:bg-white/40 transition-all duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
            </button>

            <!-- Image Counter -->
            <div id="image-counter" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white bg-black/50 px-4 py-1 rounded-full text-sm font-medium">
                1 of 25
            </div>

        </div>
    </div>

    <!-- JavaScript for Gallery Functionality -->
    <script>
        const imageGallery = document.getElementById('photo-gallery').querySelector('div');
        const modal = document.getElementById('gallery-modal');
        const currentImage = document.getElementById('current-gallery-image');
        const imageCounter = document.getElementById('image-counter');
        const prevBtn = document.getElementById('prev-image');
        const nextBtn = document.getElementById('next-image');
        let currentImageIndex = 0;

        // Base URL prefix for all images
        const CLOUDINARY_BASE = 'https://res.cloudinary.com/hqxyevlf6/image/upload/f_auto,q_auto/';

        // 25 UNIQUE Image Identifiers extracted from the Goboony listing
        // This array ensures there are no repeated images in the gallery.
        const imageIds = [
            'ayjr1cqkmhumsmsaqkpr.jpg', 'vymhy8v9wbox8t9ludyy.jpg', 'ce2qm9hxq9v4eazoptfr.jpg', 
            'o7nioxeup4iocpmai2dv.jpg', 'uwl6c0um558crscxpsw5.jpg', 'ge39omnrfj2z84smc4qe.jpg', 
            'hrg8thrw5uzutywrndf4.jpg', 'ucdsd1ejdxzcou34jlwa.jpg', 'w1fvkszzmqooa7v1gagh.jpg', 
            'ijxgcpi6axmrahkq1uv3.jpg', 'ivsgbhzhct8hrw1e1ufh.jpg', 'bsme416uqmdijifl0vss.jpg', 
            'tvtojdnj3kclqrteqmxa.jpg', 'lxduli1ejaxwfh55kfaz.jpg', 'lmdhry3owynkijb1vq6f.jpg', 
            'qetnppfotp6i1k3k8e8v.jpg', 'yeuzrn3hfwrvsjhjdoi7.jpg', 'kyfljzdufcigmwd31lqk.jpg', 
            'c46qpbwnk4wda1yxy3my.jpg', 'jhjg8ryvwkr7skkvua7m.jpg', 'wvebuvwe28ln58glwqlm.jpg', 
            'wv2t9minixnlhmiu7k9q.jpg', 'ntpv4sbvwkdknli7ygcn.jpg', 'ml2nkibfpdyc6vy9lbbr.jpg', 
            'ytxagfwalldrpqk3iren.jpg' // Total of 25 unique images
        ];

        // The full array of unique image URLs for the lightbox
        const imageUrls = imageIds.map(id => CLOUDINARY_BASE + id);

        // Function to create the thumbnail grid
        function initializeGallery() {
            // uniformClass uses 'aspect-video' (16:9) to ensure a landscape appearance
            const uniformClass = 'aspect-video'; 
            
            imageUrls.forEach((url, index) => {
                const imgContainer = document.createElement('div');
                
                // For the grid display, we insert Cloudinary parameters to optimize and crop the image
                // for the small thumbnail view, ensuring fast loading and consistent size.
                const thumbnailUrl = url.replace('/f_auto,q_auto/', '/c_fill,f_auto,h_400,q_auto,w_600/');
                
                imgContainer.innerHTML = `
                    <img src="${thumbnailUrl}" 
                         alt="Campervan Photo ${index + 1}" 
                         class="w-full h-full object-cover cursor-pointer hover:opacity-90 transition duration-300 rounded-md shadow-sm" 
                         data-index="${index}"
                         onerror="this.src='https://placehold.co/600x400/e0e7ff/4338ca?text=Photo+${index + 1}'; this.onerror=null;">
                `;

                // Applying the uniform size class
                imgContainer.className = uniformClass;
                
                imgContainer.querySelector('img').addEventListener('click', () => {
                    openGallery(index);
                });

                imageGallery.appendChild(imgContainer);
            });
        }

        // Function to open the modal
        function openGallery(index) {
            currentImageIndex = index;
            updateModalImage();
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent scrolling background
        }

        // Function to close the modal
        function closeModal() {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Function to update the image in the modal
        function updateModalImage() {
            const url = imageUrls[currentImageIndex];
            currentImage.src = url;
            // Update the counter text to show which image is currently viewed
            imageCounter.textContent = `${currentImageIndex + 1} of ${imageUrls.length}`;
        }

        // Navigation handlers
        function showNextImage() {
            currentImageIndex = (currentImageIndex + 1) % imageUrls.length;
            updateModalImage();
        }

        function showPrevImage() {
            currentImageIndex = (currentImageIndex - 1 + imageUrls.length) % imageUrls.length;
            updateModalImage();
        }

        // Event listeners for navigation
        prevBtn.addEventListener('click', showPrevImage);
        nextBtn.addEventListener('click', showNextImage);
        document.getElementById('close-modal').addEventListener('click', closeModal);

        // Keyboard navigation (Escape key to close, Arrows to navigate)
        document.addEventListener('keydown', (e) => {
            if (modal.classList.contains('hidden')) return;

            if (e.key === 'Escape') {
                closeModal();
            } else if (e.key === 'ArrowRight') {
                showNextImage();
            } else if (e.key === 'ArrowLeft') {
                showPrevImage();
            }
        });

        // Initialize the gallery when the page loads
        document.addEventListener('DOMContentLoaded', initializeGallery);
    </script>

</body>
</html>
